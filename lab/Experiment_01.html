
<!DOCTYPE html>


<html lang="de" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Grundschaltungen des OPV &#8212; M 6.9 Analoge Schaltungstechnik (ANS)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=f78ba3b0" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css?v=ca93fcec" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=91fba89f"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=e637711f"></script>
    <script src="../_static/copybutton.js?v=56c01ce6"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "mimeiners/ans");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "ðŸ’¬ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script src="../_static/translations.js?v=70a09b52"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=afe5de03"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lab/Experiment_01';</script>
    <link rel="canonical" href="https://mimeiners.github.io/ans/lab/Experiment_01.html" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Schmitt-Trigger" href="Experiment_02_TZ.html" />
    <link rel="prev" title="Einleitung und Ãœbersicht" href="../class/01-intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="de"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../about/unsyllabus.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/hsb-logo.png" class="logo__image only-light" alt="M 6.9 Analoge Schaltungstechnik (ANS) - Home"/>
    <script>document.write(`<img src="../_static/hsb-logo.png" class="logo__image only-dark" alt="M 6.9 Analoge Schaltungstechnik (ANS) - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Suche" aria-label="Suche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Suche</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../about/unsyllabus.html">
                    Unsyllabus
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Seminar</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../class/01-intro.html">Einleitung und Ãœbersicht</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Labor</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Grundschaltungen des OPV</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_02_TZ.html">Schmitt-Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_03_TZ.html">Charakteristik von Integrator und Differenzierer</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/mimeiners/ans" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Quell-Repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/mimeiners/ans/edit/master/lab/Experiment_01.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/mimeiners/ans/issues/new?title=Issue%20on%20page%20%2Flab/Experiment_01.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Ã–ffnen Sie ein Problem"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Laden Sie diese Seite herunter">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/lab/Experiment_01.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Quelldatei herunterladen"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="In PDF drucken"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Vollbildmodus"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Suche" aria-label="Suche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Grundschaltungen des OPV</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Inhalt </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#einleitung">Einleitung</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notwendige-werkzeuge">Notwendige Werkzeuge</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unity-gain-schaltung">Unity Gain - Schaltung</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nicht-invertierender-und-invertierender-verstarker">Nicht-invertierender und invertierender VerstÃ¤rker</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#messtechnische-untersuchung-der-grenzbereiche">Messtechnische Untersuchung der Grenzbereiche</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bandbreite">Bandbreite</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maximale-verstarkung">Maximale VerstÃ¤rkung</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fazit-und-beispiele">Fazit und Beispiele</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="grundschaltungen-des-opv">
<h1>Grundschaltungen des OPV<a class="headerlink" href="#grundschaltungen-des-opv" title="Link to this heading">#</a></h1>
<section id="einleitung">
<h2>Einleitung<a class="headerlink" href="#einleitung" title="Link to this heading">#</a></h2>
<p>In diesem Experiment sollen drei Grundschaltungen eines OperationsverstÃ¤rkers untersucht werden. Zu diesen gehÃ¶ren:</p>
<ul class="simple">
<li><p>Impedanzwandler / Spannungsfolger</p></li>
<li><p>Nicht-invertierender VerstÃ¤rker</p></li>
<li><p>Invertierender VerstÃ¤rker</p></li>
</ul>
<p>GrundsÃ¤tzlich werden beim Schaltungsentwurf mit OperationsverstÃ¤rkern (hÃ¤ufig auch bezeichnet als OP, OV, OPV oder auch
OpAmp, wobei Letzteres die AbkÃ¼rzung fÃ¼r die englische Bezeichnung Operational Amplifier ist <a class="footnote-reference brackets" href="#id10" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>) die Eingengschaften
idealisiert betrachtet.</p>
<p>Ein idealer OperationsverstÃ¤rker hat einen unendlich groÃŸen VerstÃ¤rkungsfaktor V, einen unendlich groÃŸen
Eingangswiderstand Re, einen Ausgangswiderstand Ra gleich Null und einen Frequenzbereich von Null bis
unendlich. AuÃŸerdem ist der ideale OperationsverstÃ¤rker vollkommen symmetrisch. Gleiche Spannungen an den beiden
EingÃ¤ngen ergeben einen Ausgangsspannung Ua von Null. Der Grund ist die Differenz UPN zwischen den Eingangsspannungen,
die Null ist. Vorausgesetzt die Amplitude und Phasenlage sind gleich. Man spricht dann von Gleichtaktaussteuerung. Die
VerstÃ¤rkung heiÃŸt dann GleichtaktverstÃ¤rkung. Sie ist gleich Null.</p>
<p>Das VerhÃ¤ltnis zwischen dem VerstÃ¤rkungsfaktor V und der GleichtaktverstÃ¤rkung wird GleichtaktunterdrÃ¼ckung genannt. Sie
ist unendlich groÃŸ. Verzerrungen oder Rauschen, sowie die AbhÃ¤ngigkeit von der Umgebungstemperatur gibt es beim idealen
OperationsverstÃ¤rker nicht. Und zwischen Eingangs- und Ausgangsspannung besteht ein linearer Zusammenhang <a class="footnote-reference brackets" href="#id10" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>Geht man in die Praxis Ã¼ber, stellt man sehr schnell fest, dass alle soeben aufgefÃ¼hrten Werte endlich sind und beim
Schaltungsentwurf unterschiedliche Probleme verursachen kÃ¶nnen. Das Ziel dieses Experiments ist eine messtechnische
Untersuchung der Grundschaltungen eines Opamps und ein Gewinn an Wissen und Erfahrung beim Umgang mit diesen
elektronischen Bauelementen.</p>
</section>
<section id="notwendige-werkzeuge">
<h2>Notwendige Werkzeuge<a class="headerlink" href="#notwendige-werkzeuge" title="Link to this heading">#</a></h2>
<p>FÃ¼r das DurchfÃ¼hren des Experiments ist es sinnvoll, sich einiger Werkzeuge zu bedienen. DiesbezÃ¼glich ein paar SÃ¤tze zu
den zu nutzenden Werkzeugen. Vor der eigentlichen Messung ist es ratsam, die Schaltung mit einem Programm zu
simulieren. Dadurch wird einem klar, welcher Verlauf beim Messen zu erwarten ist. Das Programm LTspice ist eine
leistungsfÃ¤hige Software zur Simulation elektronischer Schaltungen. Die Messung wird anschlieÃŸend mit einem RedPitaya
durchgefÃ¼hrt. Hierbei handelt es sich um einen kleinen Microcomputer, mit dem es mÃ¶glich ist, eine Messautomatisierung
durchzufÃ¼hren.</p>
<p>Durch z.B. ein Python-Script, welches mittels SCPI-Protokoll von einem entfernten System an den Red Ptaya Ã¼bertragen
wird, kann eine Fernmessung durchgefÃ¼hrt werden. Die Messdaten, die ermittelt werden, kÃ¶nnen danach z.B. in einer
CSV-Datei gesammelt werden <a class="footnote-reference brackets" href="#id11" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="unity-gain-schaltung">
<h2>Unity Gain - Schaltung<a class="headerlink" href="#unity-gain-schaltung" title="Link to this heading">#</a></h2>
<p>Eine Unity Gain-Schaltung, auch Impedanzwandler oder Spannungsfolger genannt, ist ein OperationsverstÃ¤rker, dessen
Ausgang mit dem invertierenden Eingang kurzgeschlossen ist <a class="reference internal" href="#fig-02"><span class="std std-numref">Abb. 2</span></a>.</p>
<figure class="align-default" id="fig-01">
<img alt="lab/img/Experiment_01/Abbildung01.png" src="lab/img/Experiment_01/Abbildung01.png" />
<figcaption>
<p><span class="caption-number">Abb. 1 </span><span class="caption-text">Schematische Darstellung einer UnityGain-Schaltung.</span><a class="headerlink" href="#fig-01" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Aufgrund der erwÃ¤hnten <em>RÃ¼ckkopplung</em> kann die Unity Gain - Schaltung als eine Regelstrecke betrachtet
werden. Systemtheoretisch ist nun das VerhÃ¤ltnis von Ausgang zu Eingang eine Ãœbertragungsfunktion H(s).</p>
<div class="math notranslate nohighlight" id="equation-01-eq-01">
<span class="eqno">(1)<a class="headerlink" href="#equation-01-eq-01" title="Link to this equation">#</a></span>\[
	U_{OUT} = A_0 \cdot (U_+ - U_-)
\]</div>
<p>Aufrund der direkten RÃ¼ckkopplung (ohne andere Bauteile, Kurzschluss) kann idealisiert angenommen werden, dass
<span class="math notranslate nohighlight">\(A_0\)</span> gegen Unendlich strebt. Durch diese Annahme folgt nach dem KÃ¼rzen der das ÃœbersetzungverhÃ¤ltnis fÃ¼r eine
Unity Gain-Schaltung:</p>
<div class="math notranslate nohighlight" id="equation-01-eq-02">
<span class="eqno">(2)<a class="headerlink" href="#equation-01-eq-02" title="Link to this equation">#</a></span>\[
	\frac{U_{OUT}}{U_{IN}} = \frac{A_0}{1+A_0}
\]</div>
<p>Mit dieser Erkenntnis kÃ¶nnte man nun den Nutzen der Unity Gain - Schaltung in Frage stellen. TatsÃ¤chlich ist sie aber
eine sehr nÃ¼tzliche Schaltung eines OperationsverstÃ¤rkers. Wie bereits erwÃ¤hnt, wird diese Schaltung auch
Spannungsfolger oder Impedanzwandler genannt. Die Namen werden aus der grundlegenden Funktion dieser Schaltung
abgeleitet. <strong>Eine Unity Gain - Schaltung liefert am Ausgang die vom Eingang vorgegebene Spannung. Diese ist
lastunabhÃ¤ngig.</strong> Durch diese Eigenschaft kann der Unity Gain als Spannungsstabilisator oder als Entkoppler zweier
Teilsysteme eingesetzt werden. Die Ãœbertragungsfunktion des Unity Gain ist 1. Das heiÃŸt, dass die Ausgangsspannung
gleich der Differenz der Eingangsspannungen <span class="math notranslate nohighlight">\(U_{+}\)</span> und <span class="math notranslate nohighlight">\(U_{-}\)</span> ist.</p>
<div class="math notranslate nohighlight" id="equation-01-eq-03">
<span class="eqno">(3)<a class="headerlink" href="#equation-01-eq-03" title="Link to this equation">#</a></span>\[
	\frac{U_{OUT}}{U_{IN}} = 1
\]</div>
<figure class="align-default" id="fig-02">
<img alt="lab/img/Experiment_01/Abbildung02.svg" src="lab/img/Experiment_01/Abbildung02.svg" /><figcaption>
<p><span class="caption-number">Abb. 2 </span><span class="caption-text">Messung und Simulation der Ein- und Ausgangsspannungen der Unity Gain - Schaltung* <a class="footnote-reference brackets" href="#id11" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></span><a class="headerlink" href="#fig-02" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Die Mess- und Simulationsergebnisse sind in <a class="reference internal" href="#fig-02"><span class="std std-numref">Abb. 2</span></a> dargestellt. Daraus ist ersichtlich, dass die beiden
Signale nahezu identisch sind, was einer Ãœbertragung von 1 entspricht.</p>
</section>
<section id="nicht-invertierender-und-invertierender-verstarker">
<h2>Nicht-invertierender und invertierender VerstÃ¤rker<a class="headerlink" href="#nicht-invertierender-und-invertierender-verstarker" title="Link to this heading">#</a></h2>
<p>Zwei weitere grundlegende Schaltungen des OperationsverstÃ¤rkers sind die sogenannten nicht-invertierenden und
invertierenden Schaltung.</p>
<figure class="align-default" id="fig-03">
<img alt="lab/img/Experiment_01/Abbildung03.png" src="lab/img/Experiment_01/Abbildung03.png" />
<figcaption>
<p><span class="caption-number">Abb. 3 </span><span class="caption-text">Nicht-invertierender VerstÃ¤rker<a class="footnote-reference brackets" href="#id11" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></span><a class="headerlink" href="#fig-03" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Sowohl beim nicht-invertierenden als auch beim invertierenden VerstÃ¤rker hÃ¤ngt der VerstÃ¤rkungsfaktor <span class="math notranslate nohighlight">\(A_0\)</span> vom
VerhÃ¤ltnis der beiden WiderstÃ¤nde ab. FÃ¼r den nicht-invertieren VerstÃ¤rker ergibt sich:</p>
<div class="math notranslate nohighlight" id="equation-01-eq-04">
<span class="eqno">(4)<a class="headerlink" href="#equation-01-eq-04" title="Link to this equation">#</a></span>\[
	\frac{U_{OUT}}{U_{IN}} = 1 + \frac{R_2}{R_1}
\]</div>
<p>Nach Ausmultiplizieren egibt sich fÃ¼r die Ausgangsspannung <span class="math notranslate nohighlight">\(U_{OUT}\)</span></p>
<div class="math notranslate nohighlight" id="equation-01-eq-05">
<span class="eqno">(5)<a class="headerlink" href="#equation-01-eq-05" title="Link to this equation">#</a></span>\[
	U_{OUT} = U_{IN} + \frac{R_2}{R_1} \cdot U_{IN}
\]</div>
<p>Dabei ist <span class="math notranslate nohighlight">\(R_1\)</span> der Widerstand, der am invertierenden Eingang <span class="math notranslate nohighlight">\(U_-\)</span> anliegt und <span class="math notranslate nohighlight">\(R_2\)</span> der zwischen dem Ausgang <span class="math notranslate nohighlight">\(U_{OUT}\)</span>
und dem invertierenden Eingang liegt <a class="reference internal" href="#fig-04"><span class="std std-numref">Abb. 4</span></a>. <span class="math notranslate nohighlight">\(U_{IN}\)</span> ist die Eingangsspannung, die an einem der EingÃ¤nge des
Opamps anliegt.</p>
<figure class="align-default" id="fig-04">
<img alt="lab/img/Experiment_01/Abbildung04.svg" src="lab/img/Experiment_01/Abbildung04.svg" /><figcaption>
<p><span class="caption-number">Abb. 4 </span><span class="caption-text">Messung und Simulation der Ein- und Ausgangsspannungen des Nicht-invertierenden VerstÃ¤rkers<a class="footnote-reference brackets" href="#id11" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></span><a class="headerlink" href="#fig-04" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Aus <a class="reference internal" href="#fig-04"><span class="std std-numref">Abb. 4</span></a> ist ersichtlicht, dass bei einem nicht-invertierenden VerstÃ¤rker die Eingangsspannung verstÃ¤rkt
wird. Die Ausgangsspannung liegt mit der Eingangsspannung in Phase.</p>
<figure class="align-default" id="fig-05">
<img alt="lab/img/Experiment_01/Abbildung05.png" src="lab/img/Experiment_01/Abbildung05.png" />
<figcaption>
<p><span class="caption-number">Abb. 5 </span><span class="caption-text">Invertierender VerstÃ¤rker<a class="footnote-reference brackets" href="#id11" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></span><a class="headerlink" href="#fig-05" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>FÃ¼r den invertierenden VerstÃ¤rker ist das VerhÃ¤ltnis von Ausgangsspannung zu Eingangsspannung gegeben als</p>
<div class="math notranslate nohighlight" id="equation-01-eq-06">
<span class="eqno">(6)<a class="headerlink" href="#equation-01-eq-06" title="Link to this equation">#</a></span>\[
	\frac{U_{OUT}}{U_{IN}} = -\frac{R_2}{R_1}.
\]</div>
<p>Nach Ausmultiplizieren ergibt sich fÃ¼r die Ausgangsspannung <span class="math notranslate nohighlight">\(U_{OUT}\)</span></p>
<div class="math notranslate nohighlight" id="equation-01-eq-07">
<span class="eqno">(7)<a class="headerlink" href="#equation-01-eq-07" title="Link to this equation">#</a></span>\[
	U_{OUT} = -\frac{R_2}{R_1} \cdot U_{IN}.
\]</div>
<p>Nach <a class="reference internal" href="#equation-01-eq-07">(7)</a> bekommt man eine um <span class="math notranslate nohighlight">\(\pi\)</span> gedrehte und um das WiderstandsverhÃ¤ltnis verstÃ¤rkte Ausgangsspannung
<span class="math notranslate nohighlight">\(U_{OUT}\)</span>. Diese ist in <a class="reference internal" href="#fig-06"><span class="std std-numref">Abb. 6</span></a> graphisch dargestellt.</p>
<figure class="align-default" id="fig-06">
<img alt="lab/img/Experiment_01/Abbildung06.svg" src="lab/img/Experiment_01/Abbildung06.svg" /><figcaption>
<p><span class="caption-number">Abb. 6 </span><span class="caption-text">Invertierender VerstÃ¤rker<a class="footnote-reference brackets" href="#id11" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></span><a class="headerlink" href="#fig-06" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="messtechnische-untersuchung-der-grenzbereiche">
<h3>Messtechnische Untersuchung der Grenzbereiche<a class="headerlink" href="#messtechnische-untersuchung-der-grenzbereiche" title="Link to this heading">#</a></h3>
<p>Wie oben beschrieben unterliegt ein OperationsverstÃ¤rker physikalischen Grenzen. Diese Grenzen sollen hier untersucht
werden.</p>
</section>
<section id="bandbreite">
<h3>Bandbreite<a class="headerlink" href="#bandbreite" title="Link to this heading">#</a></h3>
<p>ZunÃ¤chst soll die Bandbreite und ihre AbhÃ¤ngigkeit von der VerstÃ¤rkung untersucht werden. Die kann z.B. mit Hilfe von
Red Pitaya und der sich darauf befindenden App <em>Bode-Analyser</em> durchgefÃ¼hrt werden. Aufgrund von unzureichender
DatenexportmÃ¶glichkeiten, wurde an dieser Stelle ein Programm zur Bode-Plot-Darstellung entwickelt. GundsÃ¤tzlich wird
das Programm zur Messautomatisierung des Red Pitayas eingesetzt und ist ohne Weiteres nur mit diesem kompatibel:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on Tue Feb 12 13:16:39 2019</span>

<span class="sd">@author: Selim Cimen</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># Bitte beachten Sie die Messspitzen des Red Pitaya auf das VerhÃ¤ltnis 1:10 einzustellen </span>

<span class="kn">import</span> <span class="nn">time</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">redpitaya</span> <span class="kn">import</span> <span class="n">redpitaya_scpi</span> <span class="k">as</span> <span class="n">scpi</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">scipy</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">signal</span>


<span class="c1"># Parameter fÃ¼r die Messung</span>
<span class="n">Start_f</span> <span class="o">=</span> <span class="mi">10</span>             <span class="c1"># Start Frequenz der Messung </span>
<span class="n">Stop_f</span> <span class="o">=</span> <span class="mi">7000000</span>         <span class="c1"># Stop Frequenz der Messung</span>
<span class="n">Messpunkte</span> <span class="o">=</span> <span class="mi">35</span>          <span class="c1"># Anzahl der gewÃ¼nschten Messpunkte</span>
<span class="n">IP</span> <span class="o">=</span> <span class="s2">&quot;192.168.111.184&quot;</span>   <span class="c1"># IP-Adresse vom Red-Pitaya</span>

<span class="n">Frequenzen</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">Start_f</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">Stop_f</span><span class="p">),</span> <span class="n">Messpunkte</span><span class="p">)</span>  <span class="c1"># Erzeugung Messpunkte im Frequenzbereich</span>
<span class="n">Wave_form</span> <span class="o">=</span> <span class="s1">&#39;sine&#39;</span>                                    <span class="c1"># Wellenform des Eingangssignals</span>
<span class="n">Ampl</span> <span class="o">=</span> <span class="mi">1</span>                                              <span class="c1"># Amplitude des Eingangssignals</span>
<span class="n">Downsampling</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>                                    <span class="c1"># Downsamplingrate (decimation factor)</span>
<span class="n">Triggerverzoegerung</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>                             <span class="c1"># VerzÃ¶gerung des Triggers </span>
<span class="n">Index</span> <span class="o">=</span> <span class="mi">0</span>                                             <span class="c1"># Processvariable</span>
<span class="n">Data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Frequenzen</span><span class="p">))</span>                     <span class="c1"># Anlegen eines Vektors fÃ¼r die Messergebnisse</span>
<span class="n">Data2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Frequenzen</span><span class="p">))</span>                     <span class="c1"># Anlegen eines Vektors fÃ¼r die Messergebnisse</span>

<span class="n">Name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Name der Input Textfile: &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.txt&quot;</span>    <span class="c1"># Eingabe des Dateiennamens</span>
<span class="c1"># Dateiname = &quot;/Users/selimcimen/Documents/Python/Analoge_Schaltungen/&quot; +Name  # Speicherpfad</span>

<span class="n">rp_s</span> <span class="o">=</span> <span class="n">scpi</span><span class="o">.</span><span class="n">scpi</span><span class="p">(</span><span class="n">IP</span><span class="p">)</span>                                  <span class="c1">#Verbindung herstellen zum Red Pitaya</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;GEN:RST&#39;</span><span class="p">)</span>                                <span class="c1">#Signal Generator reset</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:RST&#39;</span><span class="p">)</span>                                <span class="c1">#Input reset</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Frequenzen</span><span class="p">:</span>
    
    <span class="c1"># Signal Generieren</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:FUNC &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">Wave_form</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>  <span class="c1">#Wellenform sezten</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">Ampl</span><span class="p">))</span>               <span class="c1">#Amplitude setzen</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:FREQ:FIX &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>             <span class="c1">#Frequenz setzen</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;OUTPUT1:STATE ON&#39;</span><span class="p">)</span>                     <span class="c1">#Ausgang am Red Pitaya einschalten</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
    

    <span class="c1"># Trigger variablen sezten    </span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">25000</span><span class="p">):</span>                                      <span class="c1">#Downsampling in AbhÃ¤nigkeit der Frequenz des </span>
        <span class="n">Downsampling</span> <span class="o">=</span> <span class="s2">&quot;8&quot;</span>                              <span class="c1">#Eingangssiganls</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">1000</span><span class="p">):</span>
        <span class="n">Downsampling</span> <span class="o">=</span> <span class="s2">&quot;64&quot;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">Downsampling</span> <span class="o">=</span> <span class="s2">&quot;1024&quot;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">20</span><span class="p">):</span>
        <span class="n">Downsampling</span> <span class="o">=</span> <span class="s2">&quot;8192&quot;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&gt;</span><span class="mi">250000</span><span class="p">):</span>
        <span class="n">Downsampling</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

    <span class="c1">#rp_s.tx_txt(&#39;ACQ:AVG &#39; + &quot;ON&quot;)                     #Average setzen</span>
    <span class="c1">#time.sleep(0.2)    </span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:DEC &#39;</span> <span class="o">+</span> <span class="n">Downsampling</span><span class="p">)</span>              <span class="c1">#Downsampling setzen</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:TRIG:LEV 0&#39;</span><span class="p">)</span>                       <span class="c1">#Triggerlevel setzen</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:TRIG:DLY &#39;</span> <span class="o">+</span> <span class="n">Triggerverzoegerung</span><span class="p">)</span>  <span class="c1">#VerzÃ¶gerung fÃ¼r Trigger setzen</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:START&#39;</span><span class="p">)</span>                            <span class="c1">#Start der Messung</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:TRIG NOW&#39;</span><span class="p">)</span>                         <span class="c1">#Signal Genarator triggern</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>

    
    <span class="c1"># Datenerfassung fuer Input 1</span>
    
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:SOUR1:DATA?&#39;</span><span class="p">)</span>                                                <span class="c1">#Auslesen des Buffers auf Input 1</span>
    <span class="n">Buffstring1</span> <span class="o">=</span> <span class="n">rp_s</span><span class="o">.</span><span class="n">rx_txt</span><span class="p">()</span>                                                   <span class="c1">#Speichern der Messergebnisse</span>
    <span class="n">Buffstring1</span> <span class="o">=</span> <span class="n">Buffstring1</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n\r</span><span class="s1">\E\R\!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>  <span class="c1">#Zeichen austauschen </span>
    <span class="n">Buff1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Buffstring1</span><span class="p">)))</span>                               <span class="c1">#von String in float Vektor umwandeln </span>


    <span class="c1"># Datenerfassung fuer Input 2</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:SOUR2:DATA?&#39;</span><span class="p">)</span>                                                <span class="c1">#Auslesen des Buffers auf Input 2</span>
    <span class="n">Buffstring2</span> <span class="o">=</span> <span class="n">rp_s</span><span class="o">.</span><span class="n">rx_txt</span><span class="p">()</span>                                                   <span class="c1">#Speichern der Messergebnisse</span>
    <span class="n">Buffstring2</span> <span class="o">=</span> <span class="n">Buffstring2</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n\r</span><span class="s1">\E\R\!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>  <span class="c1">#Zeichen austauschen </span>
    <span class="n">Buff2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Buffstring2</span><span class="p">)))</span>                               <span class="c1">#von String in float Vektor umwandeln</span>
    
    <span class="c1"># ohne offset am Ausgang wichtig eine Variante auskommentieren!</span>
    <span class="c1">#V_in = np.array(abs(Buff1))</span>
    <span class="c1">#V_out = np.array(abs(Buff2))</span>
    <span class="c1">#V_in = sum(V_in)/16384</span>
    <span class="c1">#V_out = sum(V_out)/16384</span>
    
    <span class="c1"># mit offset am Ausgang wichtig eine Variante auskommentieren!</span>
    <span class="n">V_in</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">Buff1</span><span class="p">)</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">amin</span><span class="p">(</span><span class="n">Buff1</span><span class="p">)</span>
    <span class="n">V_out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">Buff2</span><span class="p">)</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">amin</span><span class="p">(</span><span class="n">Buff2</span><span class="p">)</span>
    
    <span class="c1"># Amplitudengang ermitteln</span>
    <span class="n">Data1</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">=</span> <span class="n">V_out</span><span class="o">/</span><span class="n">V_in</span>                               <span class="c1"># VerhÃ¤ltnis von Ausgang zu Eingang speichern</span>
    <span class="n">Data2</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">V_out</span><span class="o">/</span><span class="n">V_in</span><span class="p">)</span>                  <span class="c1"># VerhÃ¤ltnis in dB von Ausgang zu Eingang speichern</span>
    <span class="n">Index</span><span class="o">+=</span><span class="mi">1</span>                                                <span class="c1"># Processvariable um eins erhÃ¶hen</span>
    <span class="n">v</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">Index</span><span class="o">/</span><span class="n">Messpunkte</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>                           <span class="c1"># Ermittlung des Fortschritts der Messung</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fortschritt der Messung: &quot;</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>                <span class="c1"># Ausgabe des Fortschritts</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">):</span>                                            <span class="c1"># LED&#39;s auf dem Red Pitaya ansteuern: Statusanzeige</span>
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">22</span><span class="p">):</span>                                          
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">33</span><span class="p">):</span>                                          
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">44</span><span class="p">):</span>                                          
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">55</span><span class="p">):</span>                                          
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">66</span><span class="p">):</span>                                          
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">77</span><span class="p">):</span>                                          
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">88</span><span class="p">):</span>                                          
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">96</span><span class="p">):</span>                                          
        <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>


<span class="n">Werte</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">([</span><span class="n">Frequenzen</span><span class="p">,</span><span class="n">Data1</span><span class="p">,</span><span class="n">Data2</span><span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>     <span class="c1"># Messfrequenzen und Messergebnisse speichern</span>
<span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span> <span class="n">Werte</span><span class="p">)</span>                                <span class="c1"># Als Datei speichern</span>
<span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;OUTPUT1:STATE OFF&#39;</span><span class="p">)</span>                            <span class="c1"># Ausgang des Red Pitayas ausschalten</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Messung beendet&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;DIG:PIN LED&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>      <span class="c1"># LED&#39;s ausschalten</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

<span class="n">Data2</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">signal</span><span class="o">.</span><span class="n">medfilt</span><span class="p">(</span><span class="n">Data2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>


<span class="c1">#  Plot der Messung</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">Frequenzen</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">Data2</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Frequency f/Hz&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Magnitude A/dB&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Mit Hilfe des Programms konnten die Bandbreiten der jeweiligen Schaltung ermittelt werden. Um eine fundierte Aussage
Ã¼ber die Messgenauigkeit treffen zu kÃ¶nnen, wurden die AmplitudengÃ¤nge der entsprechenden Schaltungen simuliert. Diese
sind zusammen mit den Messungen in <code class="docutils literal notranslate"><span class="pre">01_fig_06</span></code>{.interpreted-text role=â€œnumrefâ€œ} dargestellt.</p>
<figure class="align-default" id="fig-07">
<img alt="lab/img/Experiment_01/Abbildung07.png" src="lab/img/Experiment_01/Abbildung07.png" />
<figcaption>
<p><span class="caption-number">Abb. 7 </span><span class="caption-text">Vergleich der Messungen mit den Simulationen</span><a class="headerlink" href="#fig-07" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Die Simulationsergebnisse zeigen prinzipiell das gleiche Tiefpassverhalten wie die Messergebnisse. Der Amplitudengang
der Messungen weicht kaum von den Simulationsergebnissen ab. Die Abweichungen liegen nur im hohen Frequenzbereich. Daher
liegen die Fehlerquellen in den kapazitiven Eigenschaften der Messspitzen und den langen Leitung. Andererseits scheinen
die Simulationsdaten des OperationsverstÃ¤rkers sehr exakt zu sein, das die beiden Ergebnisse kaum von einander abweichen.</p>
<p>Mit Hilfe von <a class="reference external" href="https://de.mathworks.com/products/matlab.html">Matlab</a> kÃ¶nnen die <span class="math notranslate nohighlight">\(-3\,dB\)</span> - Grenzen der jeweiligen
gemessenen Schaltungen ermittelt werden. Es ergeben sich fÃ¼r:</p>
<ul class="simple">
<li><p>Unity Gain = <span class="math notranslate nohighlight">\(3,16 \cdot 10^6\,Hz\)</span></p></li>
<li><p>Nicht-invertierender VerstÃ¤rker = <span class="math notranslate nohighlight">\(1,05 \cdot 10^6\,Hz\)</span></p></li>
<li><p>Invertierender VerstÃ¤rker = <span class="math notranslate nohighlight">\(1,05 \cdot 10^6\,Hz\)</span></p></li>
</ul>
<p>Diese Information liefert eine wichtige Erkenntnis: Die Bandbreite der OperationsverstÃ¤rker hÃ¤ngt scheinbar mit dem
VerstÃ¤rkungsfaktor <span class="math notranslate nohighlight">\(A_0\)</span> zusammen. Je grÃ¶ÃŸer der VerstÃ¤rkungsfaktor, desto schmaler ist die Bandbreite des Opamps. Diese
Erkenntniss ist wichtig fÃ¼r die Auslegung hochfrequenter Schaltung mit einer VerstÃ¤rkung. Auf eine mathematische
Herleitung der Bandbreite wird an dieser Stelle verzichtet.</p>
</section>
<section id="maximale-verstarkung">
<h3>Maximale VerstÃ¤rkung<a class="headerlink" href="#maximale-verstarkung" title="Link to this heading">#</a></h3>
<p>Nun soll der VerstÃ¤rkungsfakor <span class="math notranslate nohighlight">\(A_0\)</span> auf seinen maximalen und minimalen Wert untersucht werden. Abgeleitet aus
<a class="reference internal" href="#equation-01-eq-05">(5)</a> und <a class="reference internal" href="#equation-01-eq-06">(6)</a>, besteht die AbhÃ¤ngigkeit zwischen dem VerstÃ¤rkungsfaktor <span class="math notranslate nohighlight">\(A_0\)</span>, der
Eigangsspannungdifferenz <span class="math notranslate nohighlight">\(U_{IN}\)</span> und der Ausgangsspannung <span class="math notranslate nohighlight">\(U_{OUT}\)</span>.</p>
<div class="math notranslate nohighlight" id="equation-01-eq-08">
<span class="eqno">(8)<a class="headerlink" href="#equation-01-eq-08" title="Link to this equation">#</a></span>\[U_{OUT} = A_0 \cdot U_{IN}\]</div>
<p>Da theoretisch die Eigangsspannung und der VerstÃ¤rkungsfaktor variable sind, wird hier die Ausgangsspannung des Opamps
auf ihre Grenzen Ã¼berprÃ¼ft. Dazu wird ein DC-Sweep durchgefÃ¼hrt. Zu diesem Zweck wurde ein weiteres Programm erstellt</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on Tue Feb 12 19:16:39 2019</span>

<span class="sd">@author: Selim Cimen</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">redpitaya</span> <span class="kn">import</span> <span class="n">redpitaya_scpi</span> <span class="k">as</span> <span class="n">scpi</span>
<span class="c1"># import matplotlib.pyplot as plt</span>


<span class="c1"># Parameter fÃ¼r die Messung</span>
<span class="n">Start_V</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span>                                        <span class="c1"># Start Spannung der Messung </span>
<span class="n">Stop_V</span> <span class="o">=</span> <span class="mf">0.5</span>                                          <span class="c1"># Stop Spannung der Messung</span>
<span class="n">Messpunkte</span> <span class="o">=</span> <span class="mi">41</span>                                       <span class="c1"># Anzahl der gewÃ¼nschten Messpunkte</span>
<span class="n">IP</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>                                      <span class="c1"># IP-Adresse vom Red-Pitaya</span>
<span class="n">Tastkopf</span> <span class="o">=</span> <span class="mi">10</span>                                         <span class="c1"># Tastkopf VerhÃ¤ltnis der Messspitzen</span>

<span class="n">Wave_form</span> <span class="o">=</span> <span class="s1">&#39;square&#39;</span>                                  <span class="c1"># Wellenform des Eingangssignals</span>
<span class="n">Amplituden</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">Start_V</span><span class="p">,</span> <span class="n">Stop_V</span><span class="p">,</span> <span class="n">Messpunkte</span><span class="p">)</span> <span class="c1"># Messpunkte der Amplituden</span>
<span class="n">Downsampling</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>                                    <span class="c1"># Downsamplingrate (decimation factor)</span>
<span class="n">Triggerverzoegerung</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>                             <span class="c1"># VerzÃ¶gerung des Triggers </span>
<span class="n">Index</span> <span class="o">=</span> <span class="mi">0</span>                                             <span class="c1"># Processvariable</span>

<span class="k">if</span> <span class="p">(</span><span class="n">Start_V</span> <span class="o">&lt;</span> <span class="n">Stop_V</span><span class="p">):</span>
    <span class="n">Ampl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Stop_V</span><span class="o">-</span><span class="n">Start_V</span><span class="p">,</span> <span class="n">Messpunkte</span><span class="p">)</span>  <span class="c1"># Amplitude des Eingangssignals</span>
    
<span class="k">if</span> <span class="p">(</span><span class="n">Start_V</span> <span class="o">&gt;</span> <span class="n">Stop_V</span><span class="p">):</span>
    <span class="n">Ampl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Start_V</span><span class="o">-</span><span class="n">Stop_V</span><span class="p">,</span> <span class="n">Messpunkte</span><span class="p">)</span> <span class="c1"># Amplitude des Eingangssignals</span>
    
<span class="n">Input</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Ampl</span><span class="p">))</span>                           <span class="c1"># Anlegen eines Input Vektors </span>
<span class="n">Output</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Ampl</span><span class="p">))</span>                          <span class="c1"># Anlegen eines Output Vektors</span>

<span class="n">Name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Name der Input Textdatei: &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.txt&quot;</span>   <span class="c1"># Eingabe des Dateinamens</span>
<span class="n">Dateiname</span> <span class="o">=</span> <span class="s2">&quot;./data/&quot;</span> <span class="o">+</span> <span class="n">Name</span>                          <span class="c1"># Speicherpfad</span>

<span class="n">rp_s</span> <span class="o">=</span> <span class="n">scpi</span><span class="o">.</span><span class="n">scpi</span><span class="p">(</span><span class="n">IP</span><span class="p">)</span>                                  <span class="c1"># Verbindung herstellen zum Red Pitaya</span>
<span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;GEN:RST&#39;</span><span class="p">)</span>                                <span class="c1"># Signal Generator reset</span>
<span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:RST&#39;</span><span class="p">)</span>                                <span class="c1"># Input reset</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Ampl</span><span class="p">:</span>
    <span class="c1"># Signal Generieren</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:FUNC &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">Wave_form</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>      <span class="c1"># Wellenform sezten</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">Start_V</span> <span class="o">&lt;</span> <span class="n">Stop_V</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">Stop_V</span><span class="p">):</span>
            <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>              <span class="c1"># Amplitude setzen</span>
            <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT:OFFS &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">Start_V</span><span class="p">))</span>   <span class="c1"># Setzen vom Offset darf nicht kleiner/grÃ¶ÃŸer +-1V sein</span>
    
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">Stop_V</span><span class="p">):</span>
            <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">Start_V</span><span class="p">))</span>           
            <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT:OFFS &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>         

    <span class="k">if</span> <span class="p">(</span><span class="n">Start_V</span> <span class="o">&gt;</span> <span class="n">Stop_V</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">Start_V</span><span class="p">):</span>
            <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">Start_V</span><span class="o">-</span><span class="n">i</span><span class="p">))</span>              
            <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT:OFFS &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>   
    
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="n">Start_V</span><span class="p">):</span>
            <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">Start_V</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="n">Start_V</span><span class="p">))))</span>       
            <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:VOLT:OFFS &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">Stop_V</span><span class="p">))</span>        
            
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;SOUR1:FREQ:FIX &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>             <span class="c1"># Frequenz setzen</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;OUTPUT1:STATE ON&#39;</span><span class="p">)</span>                     <span class="c1"># Ausgang am Red Pitaya einschalten</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
   
    <span class="c1"># Trigger variablen sezten</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:DEC &#39;</span> <span class="o">+</span> <span class="n">Downsampling</span><span class="p">)</span>              <span class="c1"># Downsampling setzen</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:TRIG:LEV 0&#39;</span><span class="p">)</span>                       <span class="c1"># Triggerlevel setzen</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:TRIG:DLY &#39;</span> <span class="o">+</span> <span class="n">Triggerverzoegerung</span><span class="p">)</span>  <span class="c1"># VerzÃ¶gerung fÃ¼r Trigger setzen</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:START&#39;</span><span class="p">)</span>                            <span class="c1"># Start der Messung</span>
   
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:TRIG NOW&#39;</span><span class="p">)</span>                         <span class="c1"># Signal Genarator triggern</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
   
    <span class="c1"># Datenerfassung fuer Input 1</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:SOUR1:DATA?&#39;</span><span class="p">)</span>                                          <span class="c1"># Auslesen des Buffers auf Input 1</span>
    <span class="n">Buffstring1</span> <span class="o">=</span> <span class="n">rp_s</span><span class="o">.</span><span class="n">rx_txt</span><span class="p">()</span>                                             <span class="c1"># Speichern der Messergebnisse</span>
    <span class="n">Buffstring1</span> <span class="o">=</span> <span class="n">Buffstring1</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n\r</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>  <span class="c1"># Zeichen austauschen </span>
    <span class="n">Buff1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Buffstring1</span><span class="p">)))</span>                         <span class="c1"># von String in float Vektor umwandeln</span>
    <span class="c1">#time.sleep(1)                                                          # Pause</span>

    <span class="c1"># Datenerfassung fuer Input 2</span>
    <span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;ACQ:SOUR2:DATA?&#39;</span><span class="p">)</span>                                          <span class="c1"># Auslesen des Buffers auf Input 2</span>
    <span class="n">Buffstring2</span> <span class="o">=</span> <span class="n">rp_s</span><span class="o">.</span><span class="n">rx_txt</span><span class="p">()</span>                                             <span class="c1"># Speichern der Messergebnisse</span>
    <span class="n">Buffstring2</span> <span class="o">=</span> <span class="n">Buffstring2</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n\r</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>  <span class="c1"># Zeichen austauschen </span>
    <span class="n">Buff2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Buffstring2</span><span class="p">)))</span>                         <span class="c1"># von String in float Vektor umwandeln</span>
    <span class="c1">#time.sleep(1)                                                          # Pause  </span>


    <span class="n">Input</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">Buff1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">Tastkopf</span><span class="o">/</span><span class="mi">16384</span><span class="p">)</span>                <span class="c1"># Messdaten vom Eingangssignal</span>
    <span class="n">Output</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">Buff2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">Tastkopf</span><span class="o">/</span><span class="mi">16384</span><span class="p">)</span>               <span class="c1"># Messdaten vom Ausgangssignal</span>


    <span class="n">Index</span> <span class="o">+=</span> <span class="mi">1</span>                                           <span class="c1"># Processvariable um eins erhÃ¶hen</span>
   
    <span class="n">v</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">Index</span><span class="o">/</span><span class="n">Messpunkte</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>                        <span class="c1"># Ermittlung des Fortschritts der Messung</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fortschritt der Messung: &quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">)</span>           <span class="c1"># Ausgabe des Fortschritts</span>
  
<span class="n">Werte</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">([</span><span class="n">Amplituden</span><span class="p">,</span> <span class="n">Input</span><span class="p">,</span> <span class="n">Output</span><span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span> <span class="c1"># Messfrequenzen und Messergebnisse speichern</span>
<span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="n">Dateiname</span><span class="p">,</span> <span class="n">Werte</span><span class="p">)</span>                               <span class="c1"># Als Datei speichern</span>
<span class="n">rp_s</span><span class="o">.</span><span class="n">tx_txt</span><span class="p">(</span><span class="s1">&#39;OUTPUT1:STATE OFF&#39;</span><span class="p">)</span>                           <span class="c1"># Ausgang des Red Pitayas ausschalten</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Messung beendet&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Es soll mit Hilfe des nicht-invertierenden VerstÃ¤rkers ein Gleichspannungsdurchlauf durchgefÃ¼hrt werden. FÃ¼r die
Ausgangsspannung ergibt sich ein Spannungsverlauf nach <a class="reference internal" href="#fig-07"><span class="std std-numref">Abb. 7</span></a>.</p>
<figure class="align-default" id="fig-08">
<img alt="lab/img/Experiment_01/Abbildung08.png" src="lab/img/Experiment_01/Abbildung08.png" />
<figcaption>
<p><span class="caption-number">Abb. 8 </span><span class="caption-text">Grenzmessung der Ausgangsspannung</span><a class="headerlink" href="#fig-08" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Das Ergebnis zeigt, dass die Ausgangsspannung bei ca. <span class="math notranslate nohighlight">\(9\,V\)</span> ihr Maximum und bei ca. <span class="math notranslate nohighlight">\(-9\,V\)</span> ihr Minimum
aufweist. Hier wird der Zusammenhang zwischen der Ausgangsspannung und der Versorgungsspannung des OperationsverstÃ¤rkers
deutlich. Die Maximalwerte der Ausgangsspannung sind gleich der Versorgungsspannung <a class="footnote-reference brackets" href="#id12" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>. Die Flankensteilheit ist
abhÃ¤ngig vom VerstÃ¤rkungsfaktor.</p>
</section>
<section id="fazit-und-beispiele">
<h3>Fazit und Beispiele<a class="headerlink" href="#fazit-und-beispiele" title="Link to this heading">#</a></h3>
<p>Mit Hilfe der durchgefÃ¼hrten Messungen konnten die grundlegende Funktionen und die realen Grenzen eines
OperationsverstÃ¤rkers aufgezeigt werden. Der Einsatz des Red Pitaya Messlabors erwies sich fÃ¼r hohen Frequenzbereich
eher unzuverlÃ¤ssig. Des Weiteren verdrehte der Red Pitaya je nach PÃ¤riodenauflÃ¶sung die Phase, sodass der Datenexport
oft fehlerhaft war. Trotzdessen ist die MÃ¶glichkeit der Messautomatisierung von groÃŸem Vorteil. Daher bietet sich der
Eisatz von SCPI-fÃ¤higen GerÃ¤ten bei diesen Messungen an.</p>
<p>Als erstes Beispiel wird ein negativ rÃ¼ckgekoppelter VerstÃ¤rker betrachtet. Prinzipiell ist das eine Kaskadierung
(Hintereinanderschaltung) der drei Grundschaltungen <a class="reference internal" href="#fig-08"><span class="std std-numref">Abb. 8</span></a>.</p>
<figure class="align-default" id="fig-09">
<img alt="lab/img/Experiment_01/Abbildung09.png" src="lab/img/Experiment_01/Abbildung09.png" />
<figcaption>
<p><span class="caption-number">Abb. 9 </span><span class="caption-text">Negativ-rÃ¼ckgekoppelter VerstÃ¤rker</span><a class="headerlink" href="#fig-09" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Hier wird statt eines Sinussignals ein Rechtecksignal eingespeist. Die AusgÃ¤nge der Schaltung sind in <a class="reference internal" href="#fig-09"><span class="std std-numref">Abb. 9</span></a>
graphisch dargestellt.</p>
<figure class="align-default" id="fig-10">
<img alt="lab/img/Experiment_01/Abbildung10.png" src="lab/img/Experiment_01/Abbildung10.png" />
<figcaption>
<p><span class="caption-number">Abb. 10 </span><span class="caption-text">Messergebnisse der Ausgangsspannungen des negativ-rÃ¼ckgekoppelten VerstÃ¤rkers</span><a class="headerlink" href="#fig-10" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Aus der Messung ist zu entnehmen, dass die bei einem Rechteckeingangssignal, die Ausgangssignale bei den GrenzÃ¼bergÃ¤ngen
eine Abrundung aufweisen. Dieses PhÃ¤nomen bezeichnet man als <a class="reference external" href="https://en.wikipedia.org/wiki/Slew_rate">Slew Rate</a> und
ist auf die kapazitive Eigeschaften des OPAMS zurÃ¼ck zu fÃ¼hren.</p>
<p>Als zweites Beispiel wird ein InstrumentenverstÃ¤rker betrachtet. Dieser kann aus zwei oder drei OperationsverstÃ¤rkern
vgl. <a class="reference internal" href="#fig-10"><span class="std std-numref">Abb. 10</span></a>, aufgebaut werden und wird oft, aufgrund seiner Eigenschaften, in der Medizintechnik eingesetzt.</p>
<figure class="align-default" id="fig-11">
<img alt="lab/img/Experiment_01/Abbildung11.png" src="lab/img/Experiment_01/Abbildung11.png" />
<figcaption>
<p><span class="caption-number">Abb. 11 </span><span class="caption-text">InstrumentenverstÃ¤rker mit drei Opamps (li.) und zwei Opamps (re.)</span><a class="headerlink" href="#fig-11" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Aus der Abbildung wird deutlich, dass die VerstÃ¤rkung lediglich vom Widerstand <span class="math notranslate nohighlight">\(nR\)</span> abhÃ¤ngt. Dies erleichtert die
Einstellung des InstumentenverstÃ¤rkers. Als Beispiel wurde ein InstrumentenverstÃ¤rker aus zwei OperationsverstÃ¤rkern
aufgebaut und der Ausgang gemessen. Die Messergebnisse sind in der <a class="reference internal" href="#fig-11"><span class="std std-numref">Abb. 11</span></a> graphisch dargestellt.</p>
<figure class="align-default" id="fig-12">
<img alt="lab/img/Experiment_01/Abbildung12.png" src="lab/img/Experiment_01/Abbildung12.png" />
<figcaption>
<p><span class="caption-number">Abb. 12 </span><span class="caption-text">Eingangs- und Ausgangssignale eines InstrumentenverstÃ¤rkers aus 2 Opamps</span><a class="headerlink" href="#fig-12" title="Link to this image">#</a></p>
</figcaption>
</figure>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id10" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id2">2</a>)</span>
<p><a class="reference external" href="https://www.elektronik-kompendium.de/sites/bau/0209092.htm">https://www.elektronik-kompendium.de/sites/bau/0209092.htm</a> - besucht am 21.03.2022</p>
</aside>
<aside class="footnote brackets" id="id11" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id4">2</a>,<a role="doc-backlink" href="#id5">3</a>,<a role="doc-backlink" href="#id6">4</a>,<a role="doc-backlink" href="#id7">5</a>,<a role="doc-backlink" href="#id8">6</a>)</span>
<p>ANS-Abschlussbericht SoSe21 von M. LÃ¼ters, L. Lagona und Ch. Stelling.</p>
</aside>
<aside class="footnote brackets" id="id12" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">3</a><span class="fn-bracket">]</span></span>
<p>Die Angaben sind aus den jeweiligen DatenblÃ¤ttern zu entnehmen.</p>
</aside>
</aside>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lab"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../class/01-intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">zurÃ¼ck</p>
        <p class="prev-next-title">Einleitung und Ãœbersicht</p>
      </div>
    </a>
    <a class="right-next"
       href="Experiment_02_TZ.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">weiter</p>
        <p class="prev-next-title">Schmitt-Trigger</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Inhalt
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#einleitung">Einleitung</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notwendige-werkzeuge">Notwendige Werkzeuge</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unity-gain-schaltung">Unity Gain - Schaltung</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nicht-invertierender-und-invertierender-verstarker">Nicht-invertierender und invertierender VerstÃ¤rker</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#messtechnische-untersuchung-der-grenzbereiche">Messtechnische Untersuchung der Grenzbereiche</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bandbreite">Bandbreite</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maximale-verstarkung">Maximale VerstÃ¤rkung</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fazit-und-beispiele">Fazit und Beispiele</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Durch M. Meiners (HSB)
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
  <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png"></a>
  All content on this site (unless otherwise specified) is licensed under the 
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0 license</a>
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>