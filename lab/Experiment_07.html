
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Phase Locked Loop (PLL) &#8212; M 6.9 Analoge Schaltungstechnik (ANS)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link media="all" rel="stylesheet" type="text/css" href="https://dokie.li/media/css/dokieli.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="dokieli" src="https://dokie.li/scripts/dokieli.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "mimeiners/ans");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=afe5de03"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lab/Experiment_07';</script>
    <link rel="canonical" href="https://mimeiners.github.io/ans/lab/Experiment_07.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Automatic Gain/Volume Control (AGC/AVC)" href="Experiment_08.html" />
    <link rel="prev" title="Voltage Controlled Oscillator (VCO)" href="Experiment_06.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../about/unsyllabus.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/hsb-logo.png" class="logo__image only-light" alt="M 6.9 Analoge Schaltungstechnik (ANS) - Home"/>
    <script>document.write(`<img src="../_static/hsb-logo.png" class="logo__image only-dark" alt="M 6.9 Analoge Schaltungstechnik (ANS) - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../about/unsyllabus.html">
                    Unsyllabus
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Seminar</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../class/01_lec.html">Einleitung und Übersicht</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Labor</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Experiment_01.html">Grundschaltungen des OPV</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_02_TZ.html">Schmitt-Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_03_TZ.html">Charakteristik von Integrator und Differenzierer</a></li>

<li class="toctree-l1"><a class="reference internal" href="Experiment_04.html">Analoge Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_05.html">Self-Tuned Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_06.html">Voltage Controlled Oscillator (VCO)</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Phase Locked Loop (PLL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_08.html">Automatic Gain/Volume Control (AGC/AVC)</a></li>








<li class="toctree-l1"><a class="reference internal" href="Experiment_09.html">DC-DC Wandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_10.html">Entwurf eines LDO Reglers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_11.html">Parameterstudie eines LDO’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_12.html">Parameterstudie eines DC-DC Wandlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_13.html">Entwurf eines digital kontrollierten GSA’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_14.html">Digital programmierbarer Signalgenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="RedPitaya_Messautomatisierung.html">Red Pitaya Messautomatisierung</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/mimeiners/ans" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/mimeiners/ans/edit/master/lab/Experiment_07.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/mimeiners/ans/issues/new?title=Issue%20on%20page%20%2Flab/Experiment_07.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/lab/Experiment_07.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Phase Locked Loop (PLL)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#grundlagen">Grundlagen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aufbau">Aufbau</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#phasenkomparator">Phasenkomparator</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#schleifenfilter">Schleifenfilter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vco">VCO</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#anwendung">Anwendung</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modellisierung-im-linearisierten-phasenraum">Modellisierung im linearisierten Phasenraum</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#schaltung">Schaltung</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spice-simulation">SPICE Simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#messungen">Messungen</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="phase-locked-loop-pll">
<h1>Phase Locked Loop (PLL)<a class="headerlink" href="#phase-locked-loop-pll" title="Link to this heading">#</a></h1>
<section id="grundlagen">
<h2>Grundlagen<a class="headerlink" href="#grundlagen" title="Link to this heading">#</a></h2>
<blockquote>
<div><p>PLL als Black-Box mit Ein- und Ausgang dargestellt</p>
</div></blockquote>
<p>Die Bezeichnung <em>PLL</em> ist ein Akronym des Wortes <em>Phase Locked Loop</em>
(Phasenregelschleife). Eine PLL besteht aus einer Anordnung
verschiedener Schaltungen, die zum Ziel haben, ein Ausgangssignal zu
generieren, das in fester Phasenrelation zum Eingangssignal steht:</p>
<div class="math notranslate nohighlight">
\[\phi_{out}(t) = \phi_{ref}(t) + const\]</div>
<p>Eine PLL kann also in erster Näherung als Zweitor mit einem Eingang und
einem Ausgang angesehen werden (siehe
<code class="docutils literal notranslate"><span class="pre">exp07-pll-high-level</span></code>{.interpreted-text role=”numref”})</p>
<p>Durch den Zusammenhang zwischen Phase und Frequenz
(<span class="math notranslate nohighlight">\(\omega(t) = \frac{\text{d}\phi}{\text{d}t}\)</span>) ergibt sich daraus
folgende Beziehung:</p>
<div class="math notranslate nohighlight">
\[\omega_{out}(t) = \omega_{ref}(t)\]</div>
<div class="admonition docutils">
<p>PLL in einem Satz</p>
<p>Eine PLL besteht aus einem VCO, der über einen Regelkreis so abgestimmt
wird, dass sich am Ausgang eine <strong>konstante Phasenbeziehung</strong> zum
Eingangssignal einstellt.</p>
</div>
</section>
<section id="aufbau">
<h2>Aufbau<a class="headerlink" href="#aufbau" title="Link to this heading">#</a></h2>
<p>In folgendem Abschnitt soll geklärt werden, aus welchen Blöcken bzw.
Schaltungselementen eine PLL besteht. In
<code class="docutils literal notranslate"><span class="pre">exp07-pll-block</span></code>{.interpreted-text role=”numref”} ist die
Minimalkonfiguration mit drei Systemkomponenten dargestellt.</p>
<blockquote>
<div><p>Grundlegendes Blockschaltbild einer PLL</p>
</div></blockquote>
<p>Eine PLL kann z.B. komplett analog, komplett digital, als Mixed-Signal
Schaltung oder sogar komplett in Software implementiert werden. In
diesem Dokument wird der Aufbau in analoger Schaltungstechnik
beschrieben. Die Grundlegenden Konzepte sind jedoch auch auf andere
Implementierungen übertragbar.</p>
<section id="phasenkomparator">
<h3>Phasenkomparator<a class="headerlink" href="#phasenkomparator" title="Link to this heading">#</a></h3>
<p>Der Phasenkomparator vergleicht das Eingangssignal <span class="math notranslate nohighlight">\(u_{ref}\)</span> der PLL mit
dem generierten Ausgangssignal <span class="math notranslate nohighlight">\(u_{fb}\)</span> und gibt eine zur
Phasenverschiebung proportionale Spannung <span class="math notranslate nohighlight">\(u_e\)</span> aus (in Form eines PWM
Ausgangs). In <code class="docutils literal notranslate"><span class="pre">exp07-phasecomp-waveforms</span></code>{.interpreted-text
role=”numref”} ist das Ausgangssignal des Phasenkomparators bei
konstantem Phasenversatz dargestellt.</p>
<blockquote>
<div><p>Darstellung der Funktionsweise eines Phasenkomparators anhand zweier
Beispiele mit unterschiedlichen Phasenverschiebungen</p>
</div></blockquote>
<p>Es ist zu erkennen, dass die gemittelte Ausgangsspannung
<span class="math notranslate nohighlight">\(\overline{u}_e\)</span> größer ist, je kleiner die Phasenverschiebung zwischen
den beiden Eingangssignalen ist.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">exp07-phasecomp-freerunning</span></code>{.interpreted-text role=”numref”} ist
das Ausgangssignal des Phasenkomparators dargestellt, wenn die beiden
Eingangssignale <span class="math notranslate nohighlight">\(u_{ref}\)</span> und <span class="math notranslate nohighlight">\(u_{fb}\)</span> eine ungleiche Frequenz
aufweisen:</p>
<blockquote>
<div><p>Ausgangssignal bei <span class="math notranslate nohighlight">\(f_{ref} \neq f_{fb}\)</span></p>
</div></blockquote>
<p>Durch die Multiplikation der beiden Signale kommt es zu einer Mischung
der Frequenzen. Das Ausgangssignal <span class="math notranslate nohighlight">\(u_e\)</span> enthält nun die Summen- und
Differenzfrequenzen der beiden Eingänge. In dem unteren Graphen ist das
Ausgangssignal zusätzlich mit einem Tiefpass gefiltert dargestellt. Nach
der Filterung ist hier fast ausschließlich die Differenzfrequenz
<span class="math notranslate nohighlight">\(|f_{ref} - f_{fb}|\)</span> erkennbar. Je größer die Differenz der Frequenzen
der Eingänge ist, desto größer ist die Frequenz des Ausgangssignals
<span class="math notranslate nohighlight">\(\overline{u}_e\)</span>. Mit diesem Verständnis kann später bei der Auslegung
des Schleifenfilters die Capture Range optimiert werden.</p>
<p>Phasenkomparatoren können z.B. mit einem Analogmultiplizierer oder für
digitale PLLs mit einem XOR-Glied oder einem Flip-Flop realisiert
werden. Abhängig von der gewählten Implementierung können sich die
Phasenverschiebungs/Ausgangsspannungs-Kennlinien unterscheiden. Da hier
eine analoge PLL aufgebaut werden soll, wird für den Phasenkomparator
ein Anlogmultiplizierer eingesetzt. Die Kennlinie eines idealen
Analogmultiplizierers ist in <code class="docutils literal notranslate"><span class="pre">exp07-phasecomp-mult</span></code>{.interpreted-text
role=”numref”} dargestellt:</p>
<blockquote>
<div><p>Kennlinie eines analogen Analogmultiplizierers</p>
</div></blockquote>
<p>Es ist zu erkennen, dass die Ausgangsspannung <span class="math notranslate nohighlight">\(\overline{U}_e\)</span> bei einer
Phasenverschiebung von 90° einen Wert von 0V annimmt. Da eine Spannung
von 0V jedoch am VCO eine Frequenz von 0Hz ergeben würde, muss die
Ausgangsspannung des Multiplizierers noch mit einem Offset versehen
werden:</p>
<blockquote>
<div><p>Kennlinie eines Analogen Analogmultiplizierers mit Offset</p>
</div></blockquote>
<p>In <code class="docutils literal notranslate"><span class="pre">exp07-phasecomp-mult-offset</span></code>{.interpreted-text role=”numref”} ist
der Analogmultiplizierer mit nachgeschaltetem Addierer für den Offset
dargestellt. Über die Offsetspannung <span class="math notranslate nohighlight">\(U_{bias}\)</span> kann die Free-running
Frequenz der PLL eingestellt werden. Zusätzlich wurde der Ausgang des
Multiplizierers mit einem Skalierungsfaktor beaufschlagt.</p>
</section>
<section id="schleifenfilter">
<h3>Schleifenfilter<a class="headerlink" href="#schleifenfilter" title="Link to this heading">#</a></h3>
<p>Dem Phasenkomparator nachgeschaltet ist der Schleifenfilter. Dieser
dient hauptsächlich zur Glättung des vom Phasenkomparator generierten
PWM Signals. Im einfachsten Fall kann ein simpler RC-Tiefpass eingesetzt
werden.</p>
<p>Dennoch ist der Schleifenfilter ein kritisches Element im Regelkreis
einer PLL. Er hat z.B. Einfluss auf die Stabilität des Regelkreises, die
Capture-Range, das Phasenrauschen des Ausgangs und die Einreglzeit.
Nachfolgend sind die Auswirkungen der Bandbreite auf verschiedene
Eigenschaften einer PLL aufgelistet:</p>
<p>Bandbreite:                      Niedrig   Hoch</p>
<hr class="docutils" />
<p>Phase margin:                    Gering    Hoch
Capture-Range:                   Klein     Groß
Jitter durch Phasenkomparator:   Gering    Hoch
Jitter durch VCO:                Hoch      Gering
Einregelzeit:                    Langsam   Schnell</p>
</section>
<section id="vco">
<h3>VCO<a class="headerlink" href="#vco" title="Link to this heading">#</a></h3>
<p>Der VCO (Voltage Controlled Oscillator) generiert das Ausgangssignal der
PLL. Die Frequenz des Ausgangssignals ist abhängig von der
Eingangsspannung des VCO. In
<code class="docutils literal notranslate"><span class="pre">exp07-vco-theoretical-curve</span></code>{.interpreted-text role=”numref”} ist die
Kennlinie eines idealen VCO dargestellt.</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(u/f\)</span> Kennlinie eines Idealen VCO</p>
</div></blockquote>
<p>Da in <code class="docutils literal notranslate"><span class="pre">Experiment_06</span></code>{.interpreted-text role=”doc”} bereits näher auf
die Funktionsweise und die Hintergründe zu dem hier verwendeten VCO
erläutert wurden, soll hier nicht näher darauf eingegangen werden.</p>
</section>
</section>
<section id="anwendung">
<h2>Anwendung<a class="headerlink" href="#anwendung" title="Link to this heading">#</a></h2>
<p>PLLs werden in nahezu allen Bereichen der Elektrotechnik verwendet.
Nachfolgend sind drei gängige Anwendungsbeispiele beschrieben:</p>
<p><strong>Frequenzsynthese:</strong> Durch den Einsatz eines Frequenzteilers im
Feedback-Pfad der PLL kann die Frequenz des Ausgangs um einen bestimmten
Faktor vervielfacht werden. In modernen Mikroprozessoren sind häufig
mehrere PLLs integriert, die für die Generierung der verschiedenen
intern benötigten Frequenzen (z.B. CPU-Clock, Memory-Clock,
Peripheral-Clock etc.) zuständig sind. In einem <em>i.MX6</em> (einem ARM A9
SOC) des Herstellers NXP sind für genau diesen Einsatzzweck 6
verschiedene PLLs eingebaut.</p>
<p><strong>FM Demodulation:</strong> Wird am Eingang der PLL ein Frequenzmoduliertes
Signal angelegt, sorgt der Regelkreis dafür, dass am Eingang des VCOs
immer eine zur momentanen Eingangsfrequenz proportionale Gleichspannung
anliegt. Diese Spannung entspricht direkt dem demodulierten Signal.</p>
<p><strong>Clock/Carrier Recovery</strong> Bei der seriellen, asynchronen
Datenübertragung (z.B. SATA, SDI) wird genau wie bei den gängigen
Verfahren der Funktechnik (z.B. PSK, ASK) kein separates Taktsignal
übertragen. Im Empfänger muss diese Taktinformation somit aus dem
eigentlichen Datenstrom extrahiert werden. Auch für diesen Einsatzzweck
(genannt Clock Recovery bzw. Carrier Recovery) werden PLLs verwendet.</p>
</section>
<section id="modellisierung-im-linearisierten-phasenraum">
<h2>Modellisierung im linearisierten Phasenraum<a class="headerlink" href="#modellisierung-im-linearisierten-phasenraum" title="Link to this heading">#</a></h2>
<p>Zur Auslegung und Charakterisierung der PLL kann dessen Regelkreis aus
systemtheorethischer Sicht betrachtet werden. Hierzu wird zunächst die
LTI Übertragungsfunktion des Regelkreises aufgestellt. Als Eingangs-
bzw. Ausgangsgröße dient hier die Momentanphase der Signale. In
<code class="docutils literal notranslate"><span class="pre">exp07-phase-space-model</span></code>{.interpreted-text role=”numref”} ist das
Blockschaltbild des LTI Systems dargestellt. Der Phasenkomparator wird
als P-Glied mit dem Faktor <span class="math notranslate nohighlight">\(K_p\)</span> (Steigung der <span class="math notranslate nohighlight">\(u/\Delta \phi\)</span> Kurve)
modelliert. <span class="math notranslate nohighlight">\(G(s)\)</span> bezeichnet die Übertragungsfunktion des Filters, die
es herauszufinden bzw. zu optimieren gilt. Der VCO wird als I-Glied
modelliert, da seine Eingangsspannung nicht direkt die Phase, sondern
die Frequenz steuert. Über die Beziehung <span class="math notranslate nohighlight">\(\phi = \int{f}\)</span> kann jedoch
wieder auf die Ausgangsphase geschlossen werden.</p>
<blockquote>
<div><p>LTI Modell der PLL im Phasenraum</p>
</div></blockquote>
<p>Mit dem aufgestellten Modell wurde zunächst die Stabilität des
Regelkreises überprüft. Hierzu wurde der Regelkreis geöffnet um die
open-loop Frequenzantwort zu erhalten. Für den Der Schleifenfilter wurde
auf eine Grenzfrequenz von 50Hz ausgelegt. In
<code class="docutils literal notranslate"><span class="pre">exp07-phase-margin</span></code>{.interpreted-text role=”numref”} ist der
Frequenzgang dargestellt.</p>
<blockquote>
<div><p>Frequenzgang des Open Loop Regelkreises</p>
</div></blockquote>
<p>Aus dem Frequenzgang lässt sich die Phasenreserve zu 21,1° bestimmten.
Damit ist zwar die relative Stabilität des Systems nachgewiesen, jedoch
ist es gängige Praxis eine höhere Phasenreserve anzustreben (bei einem
eventuellen Nachbau sollte also die Grenzfrequenz höher gewählt werden).</p>
<p>Wird der Regelkreis wieder geschlossen, kann der Closed-Loop
Frequenzgang ermittelt werden (siehe <code class="docutils literal notranslate"><span class="pre">exp07-freq-resp</span></code>{.interpreted-text
role=”numref”}).</p>
<blockquote>
<div><p>Frequenzgang des Closed Loop Regelkreises</p>
</div></blockquote>
<p>Aus dem Frequenzgang lässt sich die Grenzfrequenz des gesamten
Regelkreises zu ca. 138Hz bestimmen. Die Capture-Range der PLL wird
ungefähr der doppelten Grenzfrequenz entsprechen (also ca. 276Hz).</p>
</section>
<section id="schaltung">
<h2>Schaltung<a class="headerlink" href="#schaltung" title="Link to this heading">#</a></h2>
<p>In <code class="docutils literal notranslate"><span class="pre">exp07-schematic</span></code>{.interpreted-text role=”numref”} ist der Schaltplan
der PLL dargestellt. Ein Großteil der Schaltung ist allein dem VCO
zuzuordnen. Da dieser Teil bereits in <code class="docutils literal notranslate"><span class="pre">Experiment_06</span></code>{.interpreted-text
role=”doc”} genauer erläutert wurde, wird hier nur auf den “vorderen
Teil” der Schaltung eingegangen.</p>
<blockquote>
<div><p>Vollständiger Schaltplan der PLL</p>
</div></blockquote>
<p>Der Eingang der PLL wird direkt auf den Analogmultiplizierer geschaltet
(hier als idealer Multiplizierer dargestellt. Für den Schaltungsaufbau
wurde ein MPY634 eingesetzt). Der Schleifenfilter wird aus R1 und C1
gebildet. Die Offsetspannung <span class="math notranslate nohighlight">\(u_{bias}\)</span> wird über den Widerstand R2
eingeprägt. Die Kombination aus R1 und R2 bewirkt zudem eine Skalierung
des Multiplizierer-Ausgangs.</p>
</section>
<section id="spice-simulation">
<h2>SPICE Simulation<a class="headerlink" href="#spice-simulation" title="Link to this heading">#</a></h2>
<p>Aufgrund der vorher durchgeführten systemtheorethischen Berechnungen
wurde die SPICE Simulation nur noch zur Validierung der grundlegenden
Funktion verwendet. In <code class="docutils literal notranslate"><span class="pre">exp07-spice</span></code>{.interpreted-text role=”numref”}
ist ein Einschwingvorgang der PLL in der Simulation dargestellt. Es ist
zu erkennen, dass die VCO Spannung (Pink) zu Beginn leicht schwingt und
nach ca. 25ms konstant bleibt. Ab diesem Zeitpunkt stehen Eingangs- und
Ausgangssignal mit einer festen Phasenbeziehung zueinander.</p>
<blockquote>
<div><p>Einregelvorgang der PLL in SPICE Simuliert.</p>
</div></blockquote>
</section>
<section id="messungen">
<h2>Messungen<a class="headerlink" href="#messungen" title="Link to this heading">#</a></h2>
<p><strong>VCO Kennlinie</strong></p>
<p>Zunächst wurde ausschließlich der VCO aufgebaut und dessen Kennlinie
aufgenommen (Siehe <code class="docutils literal notranslate"><span class="pre">exp07-vco-curve-real</span></code>{.interpreted-text
role=”numref”}). Zwischen 2V und 6V verläuft die Kennlinie sehr linear.
Dieser Bereich sollte beim Betrieb der PLL nicht verlassen werden.</p>
<blockquote>
<div><p>Aufgenommene VCO Kennlinie</p>
</div></blockquote>
<p><strong>PLL - einfacher test</strong></p>
<p>Anschließend wurde die komplette Schaltung nach
<code class="docutils literal notranslate"><span class="pre">exp07-schematic</span></code>{.interpreted-text role=”numref”} aufgebaut. Mit einem
rechteckigen Referenzsignal mit <span class="math notranslate nohighlight">\(\pm 8\,\text{V}\)</span> und einer Frequenz von
1kHz ergibt sich das in <code class="docutils literal notranslate"><span class="pre">exp07-timedomain</span></code>{.interpreted-text
role=”numref”} dargestellte Ausgangssignal.</p>
<p><strong>Lock Range</strong></p>
<p>Um die Lock-Range der PLL zu testen, wurde in laufendem Betrieb die
Referenzfrequenz so lange nach oben bzw. nach unten verändert, bis der
Regelkreis der PLL keine konstante Phasenbeziehung mehr herstellen kann.
Die Capture-Range wurde ermittelt, indem die Frequenz ermittelt wurde,
bei der die PLL sich beim Einschalten des Referenzsignals
aufsynchronisieren kann. In <code class="docutils literal notranslate"><span class="pre">exp07-lock-range</span></code>{.interpreted-text
role=”numref”} sind die Bereiche für zwei verschieden eingestellte
Offset-Spannungen dargestellt (um 1kHz und um 2kHz):</p>
<blockquote>
<div><p>Lock-Range (Hellblau) und Capture-Range (Dunkelblau) der PLL</p>
</div></blockquote>
<p><strong>Jitter</strong></p>
<p>Als Jitter wird die zeitliche Streuung von Flanken eines Signals
bezüglich eines bestimmten Referenzpunktes bezeichnet. Cycle-Jitter
bezeichnet die maximale Streuung der Periodendauern des Ausgangssignals.
Absolute Jitter bezeichnet die maximale Abweichung der
Phasenverschiebung zwischen Eingangs- und Ausgangssignal. In
<code class="docutils literal notranslate"><span class="pre">exp07-jitter</span></code>{.interpreted-text role=”numref”} sind diese Jitter-Arten
noch einmal illustriert:</p>
<blockquote>
<div><p>Exemplarische Darstellung von Cycle- ud Absolutem-Jitter</p>
</div></blockquote>
<p>Der Cycle- und Absolute-Jitter der PLL wurde für drei verschiedene
Arbeitspunkte (Eingangsfrequenzen) ermittelt:</p>
<p><span class="math notranslate nohighlight">\(f_{ref}\)</span>   Cycle-Jitter       Absolute-Jitter</p>
<hr class="docutils" />
<p>500 Hz      19,8 us (9,90 ‰)   24,30 us (12,0 ‰)
1 kHz       3,60 us (3,60 ‰)   7,44 us (7,4 ‰)
2 kHz       0,68 us (1,36 ‰)   3,70 us (3,7 ‰)</p>
<p>Es ist zu erkennen, dass der relative Jitter (ausgedrückt durch die
Promille-Werte) mit steigender Frequenz zunimmt.</p>
<p><strong>Phasenbeziehung</strong></p>
<p>Aufgrund der linearen VCO Kennlinie ist auch hier eine lineare
Abhängigkeit zu erwarten. In <code class="docutils literal notranslate"><span class="pre">exp07-phase-relation</span></code>{.interpreted-text
role=”numref”} sind die Messwerte dargestellt:</p>
<blockquote>
<div><p>Phasenbeziehung zwischen Eingangs- und Ausgangssignal über die gesamte
Lock-Range</p>
</div></blockquote>
<p>Innerhalb der Lock-Range nimmt die Phasendifferenz Werte zwischen
ungefähr 70° bis 122° an. Der Arbeitsbereich des Phasenkomparators (45°
bis 180°) wird also nicht vollständig ausgenutzt.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "mimeiners/ans",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lab"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Experiment_06.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Voltage Controlled Oscillator (VCO)</p>
      </div>
    </a>
    <a class="right-next"
       href="Experiment_08.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Automatic Gain/Volume Control (AGC/AVC)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#grundlagen">Grundlagen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aufbau">Aufbau</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#phasenkomparator">Phasenkomparator</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#schleifenfilter">Schleifenfilter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vco">VCO</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#anwendung">Anwendung</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modellisierung-im-linearisierten-phasenraum">Modellisierung im linearisierten Phasenraum</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#schaltung">Schaltung</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spice-simulation">SPICE Simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#messungen">Messungen</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By M. Meiners (HSB)
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png"></a>
    All content on this site (unless otherwise specified) is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0 license</a>
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>