
<!DOCTYPE html>


<html lang="de" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Digital programmierbarer Signalgenerator &#8212; M 6.9 Analoge Schaltungstechnik (ANS)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=f78ba3b0" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=91fba89f"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=e637711f"></script>
    <script src="../_static/copybutton.js?v=56c01ce6"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "mimeiners/ans");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "ðŸ’¬ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script src="../_static/translations.js?v=70a09b52"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=afe5de03"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lab/Experiment_14';</script>
    <link rel="canonical" href="https://mimeiners.github.io/ans/lab/Experiment_14.html" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Red Pitaya Messautomatisierung" href="RedPitaya_Messautomatisierung.html" />
    <link rel="prev" title="Entwurf eines digital kontrollierten GSAâ€™s" href="Experiment_13.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="de"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../about/unsyllabus.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/hsb-logo.png" class="logo__image only-light" alt="M 6.9 Analoge Schaltungstechnik (ANS) - Home"/>
    <script>document.write(`<img src="../_static/hsb-logo.png" class="logo__image only-dark" alt="M 6.9 Analoge Schaltungstechnik (ANS) - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Suche" aria-label="Suche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Suche</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../about/unsyllabus.html">
                    Unsyllabus
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Seminar</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../class/01-intro.html">Einleitung und Ãœbersicht</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Labor</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Experiment_01.html">Grundschaltungen des OPV</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_02_TZ.html">Schmitt-Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_03_TZ.html">Charakteristik von Integrator und Differenzierer</a></li>

<li class="toctree-l1"><a class="reference internal" href="Experiment_04.html">Analoge Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_05.html">Self-Tuned Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_06.html">Voltage Controlled Oscillator (VCO)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_07.html">Phase Locked Loop (PLL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_08.html">Automatic Gain/Volume Control (AGC/AVC)</a></li>








<li class="toctree-l1"><a class="reference internal" href="Experiment_09.html">DC-DC Wandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_10.html">Entwurf eines LDO Reglers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_11.html">Parameterstudie eines LDOâ€™s</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_12.html">Parameterstudie eines DC-DC Wandlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Experiment_13.html">Entwurf eines digital kontrollierten GSAâ€™s</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Digital programmierbarer Signalgenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="RedPitaya_Messautomatisierung.html">Red Pitaya Messautomatisierung</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/mimeiners/ans" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Quell-Repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/mimeiners/ans/edit/master/lab/Experiment_14.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/mimeiners/ans/issues/new?title=Issue%20on%20page%20%2Flab/Experiment_14.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Ã–ffnen Sie ein Problem"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Laden Sie diese Seite herunter">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/lab/Experiment_14.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Quelldatei herunterladen"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="In PDF drucken"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Vollbildmodus"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Suche" aria-label="Suche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Digital programmierbarer Signalgenerator</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Inhalt </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kurze-theorie-und-motivation">Kurze Theorie und Motivation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spezifikation">Spezifikation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#messungen">Messungen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hz-1-051-v-39-82-ms-25-113-hz-0000">0001 0000     25 Hz         1.051 V       39.82 ms         25.113 Hz
0000</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hz-1-040-v-40-75-ms-24-54-hz-0000">0001 0000     25 Hz         1.040 V       40.75 ms         24.54 Hz
0000</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hz-41-37-ms-24-17-hz-0000">0001 0000     25 Hz         Â              41.37 ms         24.17 Hz
0000</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="digital-programmierbarer-signalgenerator">
<h1>Digital programmierbarer Signalgenerator<a class="headerlink" href="#digital-programmierbarer-signalgenerator" title="Link to this heading">#</a></h1>
<section id="kurze-theorie-und-motivation">
<h2>Kurze Theorie und Motivation<a class="headerlink" href="#kurze-theorie-und-motivation" title="Link to this heading">#</a></h2>
<p>Im Experiment 14 soll mit Hilfe des
<a class="reference external" href="https://www.ti.com/lit/ds/sbas365b/sbas365b.pdf?ts=1591627751334">DAC7821</a>
ein digital kontrollierbarer Oszillator aufgebaut werden. Die folgende
Abbildung zeigt den Schaltplan aus der Anleitung:</p>
<p><img alt="Schaltkreis aus derAnleitung" src="lab/img/Experiment_14/Schaltung_Manual.PNG" />{##14_fig_Manual_1
.align-center}</p>
<p>Hinter dem OP-AMP, der als Integrator dient, kann eine Dreiecksspannung
abgegriffen werden. <span class="math notranslate nohighlight">\(V_\text{Out}\)</span> ist die resultierende
Rechtecksspannung und zeitgleich der <span class="math notranslate nohighlight">\(V_\text{ref}\)</span>-Input fÃ¼r den DAC.
Der Kondensator C1 bewirkt eine SchaltungsstabilitÃ¤t und soll laut
Datenblatt des
<a class="reference external" href="https://www.ti.com/lit/ds/sbas365b/sbas365b.pdf?ts=1591627751334">DAC7821</a>
zwischen 1pF und 5pF liegen.</p>
<p>Bei dem DAC7821 handelt es sich um einen single Channel, Strom-Output,
12-Bit Digital-to-Analog Converter. Dieser kann auch als ein R-2R
Netzwerk betrachtet werden, wie die folgende Abbildung zeigt.</p>
<p><img alt="Equivalentes R-2R Netzwerk1" src="lab/img/Experiment_14/R2R_Netzwerk.PNG" />{##14_fig_R2R
.align-center}</p>
<p>Das Netzwerk besteht aus einer Parallelschaltung von Spannungsteilern.
An jedem Knotenpunkt fÃ¤llt die HÃ¤lfte der Spannung des vorherigen Punkts
ab. Somit wÃ¤ren die Spannungen</p>
<div class="math notranslate nohighlight">
\[\begin{aligned}
\frac{V_\text{ref}}{2} , \frac{V_\text{ref}}{4} , \frac{V_\text{ref}}{8} , ...
\end{aligned}\]</div>
<p>Stromtechnisch ergibt sich somit fÃ¼r die beiden StromausgÃ¤nge <span class="math notranslate nohighlight">\(I_{Out1}\)</span>
und <span class="math notranslate nohighlight">\(I_{Out2}\)</span> der Summenstrom aus den einzelnen Leitern. FÃ¼r den Strom
gilt</p>
<div class="math notranslate nohighlight">
\[\begin{aligned}
I_\text{Out} = \frac{V_\text{ref}}{R_\text{ges}} \cdot \frac{CODE}{2^n_\text{Bits}}
\end{aligned}\]</div>
<p>Dabei ist <span class="math notranslate nohighlight">\(R_\text{ges} = 10\,k\Omega\)</span> und <span class="math notranslate nohighlight">\(2^n_\text{Bits} = 4096\)</span>, was
der maximalen Bitfolge entspricht. Da Vref eine resultierende
Rechteckspannung ist, folgt fÃ¼r die StromausgÃ¤nge auch eine
Rechtecksform.</p>
</section>
<section id="spezifikation">
<h2>Spezifikation<a class="headerlink" href="#spezifikation" title="Link to this heading">#</a></h2>
<p>Der digital kontrollierbare Oszillator soll so designt werden, dass die
Rechteckspannung und die Dreiecksspannung eine maximale Frequenz von 400
Hz erreichen kÃ¶nnen. Die Frequenz der Schwingungen ist durch die
folgende Gleichung gegeben:</p>
<div class="math notranslate nohighlight">
\[\begin{aligned}
f = \frac{1}{4RC}\cdot \left( 1 + \frac{R_1}{R_2}\right) \cdot \frac{\sum_{0}^{11}A_n 2^n}{4096}
\end{aligned}\]</div>
<p>Die GrÃ¶ÃŸen von R und C sind in Abbildung 14.1 verzeichnet mit R =
1<span class="math notranslate nohighlight">\(\,k\Omega\)</span> und C = 1<span class="math notranslate nohighlight">\(\,\mu\)</span>F. Damit ergibt fÃ¼r den ersten Bruch ein
Wert von 250<span class="math notranslate nohighlight">\(\,\)</span>Hz. Der digital programmierbare Oszillator soll so
ausgelegt werden, dass die maximale Frequenz der Schwingungen 400<span class="math notranslate nohighlight">\(\,\)</span>Hz
betrÃ¤gt. Damit ist f = 400<span class="math notranslate nohighlight">\(\,\)</span>Hz. Die maximale Frequenz wird erreicht,
wenn die Eingangsfolge 111111111111 besteht. Umgerechnet in eine
Dezimalzahl ist diese Folge 4096, womit sich bei der maximalen Frequenz
der hintere Bruch wegkÃ¼rzt und der Rest der Gleichung wie folgt
aussieht:</p>
<div class="math notranslate nohighlight">
\[\begin{aligned}
400\,Hz = 250\,Hz \cdot \left( 1 + \frac{R_1}{R_2}\right)
\end{aligned}\]</div>
<p>Stellt man diese Gleichung nach dem VerhÃ¤ltnis von <span class="math notranslate nohighlight">\(R_1\)</span> und <span class="math notranslate nohighlight">\(R_2\)</span> um,
so kommt man auf dieses VerhÃ¤ltnis:</p>
<div class="math notranslate nohighlight">
\[\begin{aligned}
\frac{150}{250} = \frac{R_1}{R_2} \leftrightarrow R_1 = 0.6 \cdot R_2 
\end{aligned}\]</div>
<p>Legt man <span class="math notranslate nohighlight">\(R_2\)</span> auf <span class="math notranslate nohighlight">\(1000\,\Omega\)</span> fest, dann muss <span class="math notranslate nohighlight">\(R_1\)</span> mit
<span class="math notranslate nohighlight">\(600\,\Omega\)</span> gewÃ¤hlt werden. Mit diesen Werten wurde demzufolge auch
die Simulation in TINA und in LTSpice durchgefÃ¼hrt.</p>
<p>Der Kondensator fÃ¼r die SchaltungsstabilitÃ¤t wurde hier mit 1pF
festgelegt.</p>
<p><em>Simulation mit LTSpice</em></p>
<p>Die Simulation wurde sowohl mit LTSpice als auch mit TINA durchgefÃ¼hrt.
Da kein Spice-Modell fÃ¼r den DAC7821 existiert und das Ausweich-Modell
MV95308 nur in TINA existiert, wurde das Modell eines idealen 12-Bit DAC
von <a class="reference external" href="http://cmosedu.com/cmos1/ltspice/ltspice.htm">CMOSedu</a> verwendet.
ZusÃ¤tzlich wurde das fehlende Modell des OP-AMP TL082 integriert. Der
Simulationsaufbau in LTSpice sieht wie folgt aus:</p>
<p><img alt="Schaltungsaufbau in Spice (maximaleBitfolge)" src="lab/img/Experiment_14/Schaltung_SPICE.png" />{##14_fig_Spice_1
.align-center}</p>
<p>B11 steht hierbei fÃ¼r das MSB, B0 steht fÃ¼r das LSB. FÃ¼r die vier
verschiedenen Bitfolgen (100000000000, 010000000000, 001000000000,
000100000000) werden die entsprechenden EingÃ¤nge des Bits mit VDDD (5V)
versorgt. Die restlichen Bits werden alle mit GND verbunden.</p>
<p>FÃ¼r die Simulation wurden die VerlÃ¤ufe der Rechtecks- und der
Dreiecksspannung dargestellt:</p>
<p><img alt="Simulationsergebnis der Bitfolge100000000000" src="lab/img/Experiment_14/Spice_100000000000.png" />{##14_fig_Spice_Sim_1
.align-center}</p>
<p><img alt="Simulationsergebnis der Bitfolge010000000000" src="lab/img/Experiment_14/Spice_010000000000.png" />{##14_fig_Spice_Sim_2
.align-center}</p>
<p><img alt="Simulationsergebnis der Bitfolge001000000000" src="lab/img/Experiment_14/Spice_001000000000.png" />{##14_fig_Spice_Sim_3
.align-center}</p>
<p><img alt="Simulationsergebnis der Bitfolge000100000000" src="lab/img/Experiment_14/Spice_000100000000.png" />{##14_fig_Spice_Sim_4
.align-center}</p>
<p><em>Simulation mit TINA</em></p>
<p>Die Simulation wurde zudem noch in TINA realisiert, da hier das in der
Anleitung erwÃ¤hnte Modell fÃ¼r den DAC MV95308 existiert. Das
nachfolgende Bild zeigt die Schaltung:</p>
<p><img alt="Schaltungsaufbau inTINA" src="lab/img/Experiment_14/Schaltung_TINA.PNG" />{##14_fig_TINA_Schlt
.align-center}</p>
<p>Vergleicht man den Schaltungsaufbau mit dem im Spice, dann erkennt man,
dass der ideale 12-bit DAC durch das Modell MV95308 ersetzt wurde. Die
restliche Schaltung ist mit der in SPICE identisch. Das Ziel der
Simulation in TINA war es, zu ermitteln, ob ein Unterschied durch die
zwei verschiedenen Modelle im Simulationsaufbau existiert. Wenn dies der
Fall ist, ist auÃŸerdem die Frage, wie groÃŸ der Unterschied ist. An VF1
bis VF4 wurden die Spannungswerte der Simulation entnommen. VF2
entspricht dabei dem Punkt <span class="math notranslate nohighlight">\(V_\text{tri}\)</span> in Spice und VF3 dem Punkt
<span class="math notranslate nohighlight">\(V_\text{square}\)</span>. VF1 und VF4 wurden verwendet, um die Ausgangsspannung
vom DAC beziehungsweise den Spannungswert Vref darzustellen.</p>
<p>Die Simulationsergebnisse fÃ¼r die vier verschiedenen Bitfolgen werden in
den nÃ¤chsten vier Abbildungen dargestellt. Zu beachten ist es, dass die
Zeit-Skalen nicht in allen Abbildungen identisch sind.</p>
<p><img alt="Simulationsergebnis der Bitfolge100000000000" src="lab/img/Experiment_14/TINA_100000000000.PNG" />{##14_fig_TINA_Sim_1
.align-center}</p>
<p><img alt="Simulationsergebnis der Bitfolge010000000000" src="lab/img/Experiment_14/TINA_010000000000.PNG" />{##14_fig_TINA_Sim_2
.align-center}</p>
<p><img alt="Simulationsergebnis der Bitfolge001000000000" src="lab/img/Experiment_14/TINA_001000000000.PNG" />{##14_fig_TINA_Sim_3
.align-center}</p>
<p><img alt="Simulationsergebnis der Bitfolge000100000000" src="lab/img/Experiment_14/TINA_000100000000.PNG" />{##14_fig_TINA_Sim_4
.align-center}</p>
</section>
<section id="messungen">
<h2>Messungen<a class="headerlink" href="#messungen" title="Link to this heading">#</a></h2>
<p>FÃ¼r die vier Messungen sollten die Frequenzen und Periodendauern
ermittelt werden. Die nachstehende Tabelle stellt diese Werte mit den
zugehÃ¶rigen Werten der zwei Simulationen fÃ¼r einen direkten Vergleich
dar.</p>
<hr class="docutils" />
<p>LTSpice</p>
<hr class="docutils" />
<p>Bitfolge      Berechnete    Peak - Peak   Simulierte       Simulierte
Frequenz      Output DAC    Perioden-dauer   Frequenz</p>
<p>1000 0000     200 Hz        8.416 V       4.996 ms         200.160 Hz
0000</p>
<p>0100 0000     100 Hz        4.206 V       9.98 ms          100.200 Hz
0000</p>
<p>0010 0000     50 Hz         2.102 V       19.92 ms         50.200 Hz
0000</p>
</section>
<section id="hz-1-051-v-39-82-ms-25-113-hz-0000">
<h2>0001 0000     25 Hz         1.051 V       39.82 ms         25.113 Hz
0000<a class="headerlink" href="#hz-1-051-v-39-82-ms-25-113-hz-0000" title="Link to this heading">#</a></h2>
<hr class="docutils" />
<p>TINA TI</p>
<hr class="docutils" />
<p>Bitfolge      Berechnete    Peak - Peak   Simulierte       Simulierte
Frequenz      Output DAC    Perioden-dauer   Frequenz</p>
<p>1000 0000     200 Hz        8.320 V       5.08 ms          196.98 Hz
0000</p>
<p>0100 0000     100 Hz        4.160 V       10.08 ms         99.23 Hz
0000</p>
<p>0010 0000     50 Hz         2.080 V       20.08 ms         49.8 Hz
0000</p>
</section>
<section id="hz-1-040-v-40-75-ms-24-54-hz-0000">
<h2>0001 0000     25 Hz         1.040 V       40.75 ms         24.54 Hz
0000<a class="headerlink" href="#hz-1-040-v-40-75-ms-24-54-hz-0000" title="Link to this heading">#</a></h2>
<hr class="docutils" />
<p>Messung mit      Â 
RedPitaya</p>
<hr class="docutils" />
<p>Bitfolge      Berechnete    Â              Gemessene        Gemessene
Frequenz                    Perioden-dauer   Frequenz</p>
<p>1000 0000     200 Hz        Â              5.18 ms          193.23 Hz
0000</p>
<p>0100 0000     100 Hz        Â              10.22 ms         97.81 Hz
0000</p>
<p>0010 0000     50 Hz         Â              20.67 ms         48.38 Hz
0000</p>
</section>
<section id="hz-41-37-ms-24-17-hz-0000">
<h2>0001 0000     25 Hz         Â              41.37 ms         24.17 Hz
0000<a class="headerlink" href="#hz-41-37-ms-24-17-hz-0000" title="Link to this heading">#</a></h2>
<p>An den Werten kann man erkennen, dass bei den Messungen mit einer
steigenden Bitfolge und dementsprechend steigender Frequenz der
Unterschied zwischen gemessenen und simulierten bzw. berechneten
Frequenzen steigt.</p>
<p>ZusÃ¤tzlich zu den Werten in der Tabelle wurden die von RedPitaya
erzeugten Ozsillatorbilder als .csv-Dateien gespeichert und mit den
simulierten Werten aus Spice dargestellt. Da die Simulationen von TINA
und Spice nahezu identische Ergebnisse aufweisen, wird nur mit den
LTSpice-Ergebnissen verglichen. Die aufgenommenen VerlÃ¤ufe werden
nachfolgend zum visuellen Vergleich dargestellt:</p>
<p><img alt="Vergleich Simulation und Messung Bitfolge100000000000" src="lab/img/Experiment_14/Auswertung_1000.png" />{##14_fig_Spice_Auswrt_1
.align-center}</p>
<p><img alt="Vergleich Simulation und Messung Bitfolge010000000000" src="lab/img/Experiment_14/Auswertung_0100.png" />{##14_fig_Spice_Auswrt_2
.align-center}</p>
<p><img alt="Vergleich Simulation und Messung Bitfolge001000000000" src="lab/img/Experiment_14/Auswertung_0010.png" />{##14_fig_Spice_Auswrt_3
.align-center}</p>
<p><img alt="Vergleich Simulation und Messung Bitfolge000100000000" src="lab/img/Experiment_14/Auswertung_0001.png" />{##14_fig_Spice_Auswrt_4
.align-center}</p>
<p>Man kann erkennen, dass die Frequenzen der Simulation und der Messung
sehr Ã¤hnlich sind. Allerdings weisen die gemessenen VerlÃ¤ufe der
Rechtecksspannung Peaks auf. AuÃŸerdem ist erkennbar, dass die
Peak-to-Peak Werte der Ausgangsspannungen in der Simulation ein wenig
hÃ¶her sind als in der tatsÃ¤chlichen Messung. Das liegt vor allem an der
Annahme von idealen Bauteilen bei der Simulation, die Verluste der
Bauteile werden nicht mitsimuliert.</p>
<p>Die analoge Bitfolge sollte zudem als vorzeichenlose Dezimalzahl gegen
die resultierende Frequenz aufgetragen werden. Der folgende Graph zeigt
diesem Zusammenhang fÃ¼r beide Simulationen und die tatsÃ¤chliche Messung.</p>
<p><img alt="Bitfolge gegenFrequenz" src="lab/img/Experiment_14/Matlab_Graph.png" />{##14_fig_Matlab_Graph
.align-center}</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lab"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Experiment_13.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">zurÃ¼ck</p>
        <p class="prev-next-title">Entwurf eines digital kontrollierten GSAâ€™s</p>
      </div>
    </a>
    <a class="right-next"
       href="RedPitaya_Messautomatisierung.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">weiter</p>
        <p class="prev-next-title">Red Pitaya Messautomatisierung</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Inhalt
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kurze-theorie-und-motivation">Kurze Theorie und Motivation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spezifikation">Spezifikation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#messungen">Messungen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hz-1-051-v-39-82-ms-25-113-hz-0000">0001 0000     25 Hz         1.051 V       39.82 ms         25.113 Hz
0000</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hz-1-040-v-40-75-ms-24-54-hz-0000">0001 0000     25 Hz         1.040 V       40.75 ms         24.54 Hz
0000</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hz-41-37-ms-24-17-hz-0000">0001 0000     25 Hz         Â              41.37 ms         24.17 Hz
0000</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Durch M. Meiners (HSB)
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
  <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png"></a>
  All content on this site (unless otherwise specified) is licensed under the 
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0 license</a>
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>